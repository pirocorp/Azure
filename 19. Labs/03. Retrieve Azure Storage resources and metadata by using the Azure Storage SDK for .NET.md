# Retrieve Azure Storage resources and metadata by using the Azure Storage SDK for .NET

# Architecture diagram

![image](https://user-images.githubusercontent.com/34960418/168046380-b79754e0-cfb1-4dad-a962-3b2aec4fd990.png)


# Create Azure resources

## Open the [Azure portal](https://portal.azure.com/)

## Create a Storage account

In the Azure portal, use the **Search resources, services, and docs** text box to search for **Storage Accounts**, and then in the list of results, select **Storage Accounts**. On the **Storage accounts** blade, select **+ Create**.

![image](https://user-images.githubusercontent.com/34960418/168047219-a1a537a0-4381-4a3b-9ea4-b240dd2cc2b8.png)


On the **Create a storage account** blade, on the **Basics** tab, perform the following actions, and then select **Review + create**:

| Setting                           | Action                                                       |
| --------------------------------- | ------------------------------------------------------------ |
| **Subscription** drop-down list   | Retain the default value.                                    |
| **Resource group** section        | Select **Create new**, enter **StorageMedia**, and then select **OK**. |
| **Storage account name** text box | Enter **mediastor**_[yourname]_.                             |
| **Region** drop-down list         | Select **(US) East US**.                                     |
| **Performance** section           | Select the **Standard** option.                              |
| **Redundancy** drop-down list     | select **Locally-redundant storage (LRS)**.                  |

The following screenshot displays the configured settings on the **Create a storage account blade**.

![image](https://user-images.githubusercontent.com/34960418/168047894-45414ae3-6edb-4b0b-9e29-aa205dddb549.png)


On the **Review + create** tab, review the options that you selected during the previous steps. Select **Create** to create the storage account by using your specified configuration.

> **Note**: Wait for the creation task to complete before you move forward with this lab.

Select **Go to resource**.

![image](https://user-images.githubusercontent.com/34960418/168048294-78fe8f25-e16b-4445-ac13-ae0ffc6e9852.png)


On the **Storage account** blade, in the **Settings** section, select the **Endpoints** link. In the **Endpoints** section, copy the value of the **Blob Service** text box to the clipboard.

> **Note**: You'll use this endpoint value later in the lab.

Open Notepad, and then paste the copied blob service value to Notepad.

![image](https://user-images.githubusercontent.com/34960418/168048928-1ad503fc-e00c-4963-aab5-c740329a7bf8.png)


On the **Storage account** blade, in the **Security + networking** section, select **Access keys**. Copy the **Storage account name** value to the clipboard and then paste it into Notepad. On the **Access keys** blade, select **Show keys**. Review any one of the keys, and then copy the value of either of the **Key** boxes to the clipboard.

> **Note**: You'll use all these values later in this lab.

![image](https://user-images.githubusercontent.com/34960418/168049551-dfc954ea-e13d-4d50-901b-12f0f42b865b.png)


## Review

In this exercise, you created a new Storage account to use throughout the remainder of the lab.


# Upload a blob into a container

## Create storage account containers

On the **Storage account** blade, select the **Containers** link in the **Data storage** section. In the **Containers** section, select **+ Container**.

![image](https://user-images.githubusercontent.com/34960418/168050649-6c57119c-1e70-43c1-b3b6-200363a43c19.png)


In the **New container** pop-up window, perform the following actions, and then select **Create**:

| Setting                                | Action                                    |
| -------------------------------------- | ----------------------------------------- |
| **Name** text box                      | Enter **raster-graphics**.                |
| **Public access level** drop-down list | Select **Private (no anonymous access)**. |
    
![image](https://user-images.githubusercontent.com/34960418/168051291-84d21e0b-d4dd-4197-b54a-d16377634f84.png)


In the **Containers** section, select **+ Container**. In the **New container** pop-up window, perform the following actions and then select **Create**:

| Setting                                | Action                                    |
| -------------------------------------- | ----------------------------------------- |
| **Name** text box                      | Enter **compressed-audio**.               |
| **Public access level** drop-down list | Select **Private (no anonymous access)**. |


In the **Containers** section, observe the updated list of containers. The following screenshot displays the configured settings on the **Create a storage account blade**.

![image](https://user-images.githubusercontent.com/34960418/168051724-8b7cf27d-a4e9-4519-87fb-40ba601cb327.png)


## Upload a storage account blob

In the **Containers** section, select the recently created **raster-graphics** container. On the **Container** blade, select **Upload**.

![image](https://user-images.githubusercontent.com/34960418/168052295-5b93d06d-af7a-421c-b28e-e6a898d4e815.png)


In the **Upload blob** window, perform the following actions, and then select **Upload**:

| Setting                           | Action                                                       |
| --------------------------------- | ------------------------------------------------------------ |
| **Files** section                 | Select the **Folder** icon.                                  |
| **File Explorer** window          | Select the **graph.jpg** file, and then select **Open**.     |
| **Overwrite if files already exist** check box | Ensure that the check box is selected.          |

![image](https://user-images.githubusercontent.com/34960418/168052842-adc83a08-e724-4435-96ac-972d415c227c.png)
   
> **Note**: Wait for the blob to upload before you continue with this lab.

